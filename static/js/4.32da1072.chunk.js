(this["webpackJsonp@test-project/web"]=this["webpackJsonp@test-project/web"]||[]).push([[4],{46:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.moviesStore.imageConfiguration}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.moviesStore.movies}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e.moviesStore.loadingStatus}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(27),c=function(e,t){var n=function(e){var t=e.baseUrl,n=e.params,r=new URL(t);return Object.keys(n).forEach((function(e){return r.searchParams.append(e,n[e])})),r.toString()}({baseUrl:"".concat("https://api.themoviedb.org/3/").concat(e),params:Object(r.a)({api_key:"718e897ea5f095778d7d40b5aeaded2e"},t)});return fetch(n).then((function(e){return e.json()}))},a=function(){return c("configuration")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return c("movie/popular",{page:e})},i=function(e){return c("search/movie",{query:e})},o=function(e){return c("movie/".concat(e))}},57:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n(54),u=n(25),i=n(53),o=n.n(i),s=n(10),f=n(4),b=n(47),p=n.n(b),l=n(48),j=n(51),v=n(24),d=n(49),O=n(50),m=n(46),h=function(e){var t=e.imageSize,n=void 0===t?"w500":t,i=Object(f.f)(),b=Object(u.b)(),h=Object(u.c)(d.a),g=Object(u.c)(O.a),x=Object(u.c)(m.a).imageSecureBaseUrl,k=Object(c.useState)(),S=Object(a.a)(k,2),w=S[0],U=S[1];Object(c.useEffect)((function(){var e;w||b(function(){var t=Object(l.a)(p.a.mark((function t(n){var r,c,a,u,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(v.c)("pending")),t.prev=1,t.next=4,Object(j.a)();case 4:return r=t.sent,c=r.images,a=c.base_url,u=c.secure_base_url,n(Object(v.b)({imageBaseUrl:a,imageSecureBaseUrl:u})),t.next=10,Object(j.c)(e);case 10:i=t.sent,o=i.results,n(Object(v.e)(o)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0);case 18:return t.prev=18,n(Object(v.c)("idle")),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,15,18,21]])})));return function(e){return t.apply(this,arguments)}}())}),[b,w]);var _=Object(c.useCallback)(o()((function(e){e&&b(function(e){return function(){var t=Object(l.a)(p.a.mark((function t(n){var r,c,a,u,i,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(v.c)("pending")),t.prev=1,t.next=4,Object(j.a)();case 4:return r=t.sent,c=r.images,a=c.base_url,u=c.secure_base_url,n(Object(v.b)({imageBaseUrl:a,imageSecureBaseUrl:u})),t.next=10,Object(j.d)(e);case 10:i=t.sent,o=i.results,n(Object(v.e)(o)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.error(t.t0);case 18:return t.prev=18,n(Object(v.c)("idle")),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,15,18,21]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),500),[b]),C=Object(c.useCallback)((function(e){U(e),_(e)}),[_]),y=h.map((function(e){var t=e.id,r=e.poster_path,c=e.title;return{id:t,imageSource:"".concat(x).concat(n).concat(r),title:c}}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.g,{placeholder:"Rechercher un film",onChange:C}),"idle"===g&&Object(r.jsx)(s.b,{items:y,onCardClick:function(e){e&&i.push("/movie/".concat(e))}})]})};t.default=function(){return Object(r.jsx)(h,{})}}}]);
//# sourceMappingURL=4.32da1072.chunk.js.map